{% extends 'website/layout.html' %}
{% import 'modules/sections.html' as section with context %}
{% import 'modules/services.html' as services with context %}
{% import 'modules/portfolio.html' as folio with context %}

{% block custom_css %}
    {{ super() }}
    <link href="{{ site_static.url(filename='site/css/index/style.css') }}" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/venobox/1.8.6/venobox.min.css">    
    <script src="https://unpkg.com/isotope-layout@3/dist/isotope.pkgd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/venobox/1.8.6/venobox.min.js"></script>

    <style>
       #portfolio-filters {
            padding: 0;
            margin: 0 0 35px 0;
            list-style: none;
            text-align: center
        }

        #portfolio-filters li {
            cursor: pointer;
            margin: 0 15px 15px 0;
            display: inline-block;
            padding: 5px;
            line-height: 20px;
            margin-bottom: 5px;
            transition: all 0.3s ease-in-out;
        }

        
        #portfolio-filters li:hover, #portfolio-filters li.filter-active {
            color: #eb5d1e;
        }

        #portfolio .portfolio-wrap {
            transition: 0.3s;
            position: relative;
            overflow: hidden;
            border-radius: 8px;
            z-index: 1;
        }

        #portfolio .portfolio-wrap::before {
            content: "";
            background: rgba(122, 105, 96, 0.6);
            position: absolute;
            left: 100%;
            right: 0;
            top: 0;
            bottom: 0;
            transition: all ease-in-out 0.3s;
            z-index: 2;
        }

        #portfolio .portfolio-wrap img {
            transition: 0.3s;
            position: relative;
            z-index: 1;
        }

        #portfolio .portfolio-wrap .portfolio-links {
            opacity: 0;
            left: 0;
            right: 0;
            /*top: calc(30% - 16px);*/
            top: 20px;
            text-align: center;
            z-index: 3;
            position: absolute;
            transition: all ease-in-out 0.3s;
        }

        #portfolio .portfolio-wrap .portfolio-links a {
            color: #303030;
            margin: 0 4px;
            font-size: 18px;
            line-height: 1;
            background-color: #fff;
            padding-top: 6px;
            padding-right: 1px;
            border-radius: 50px;
            text-align: center;
            width: 32px;
            height: 32px;
            display: inline-block;
            transition: 0.3s;
        }

        #portfolio .portfolio-wrap .portfolio-links a i {
            line-height: 1;
        }

        #portfolio .portfolio-wrap .portfolio-links a:hover {
            background: #303030;
            color: #fff;
        }

        #portfolio .portfolio-wrap .portfolio-info {
            opacity: 0;
            position: absolute;
            bottom: -20px;
            left: 0;
            right: 0;
            text-align: center;
            z-index: 3;
            transition: all ease-in-out 0.3s;
        }


        #portfolio .portfolio-wrap .portfolio-info h4 {
            font-size: 20px;
            color: #fff;
            font-weight: 600;
        }

            #portfolio .portfolio-wrap .portfolio-info p {
            color: #ffffff;
            font-size: 14px;
            text-transform: uppercase;
        }

            #portfolio .portfolio-wrap:hover::before {
            left: 0;
        }

            #portfolio .portfolio-wrap:hover .portfolio-links {
            opacity: 1;
            top: calc(40% - 16px);
        }

            #portfolio .portfolio-wrap:hover .portfolio-info {
            opacity: 1;
            bottom: 0;
        }
    </style>

{% endblock %}

{% block main_block %}
    <section id="title">
        <div class="container mt-5">
            {{ section.header('Portfolio', 'At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium') }}
        </div>            
    </section>
    <section id="portfolio">
        <div class="container">
            <div class="row">
                <div class="col">
                    <ul id="portfolio-filters">
                        {{ folio.filter('All', '*', is_active=True) }}
                        {{ folio.filter('Photos', '.filter-photos') }}
                        {{ folio.filter('Videos', '.filter-videos') }}
                    </ul>
                </div>
            </div>
            <div class="row portfolio-container">
                {{ folio.image("http://placehold.it/800x600", "filter-photos", title='Photo 1', desc='Check out more') }}
                {{ folio.image("http://placehold.it/800x600", "filter-photos", title='Photo 2', desc='Check out more') }}
                {{ folio.youtube("https://img.youtube.com/vi/9fQdL5IyHys/0.jpg", "https://www.youtube.com/watch?v=9fQdL5IyHys", "filter-videos", title='Video 1', desc='Check out more') }}
                {{ folio.youtube("https://img.youtube.com/vi/s0RGrvUell0/0.jpg", "https://www.youtube.com/watch?v=s0RGrvUell0", "filter-videos", title='Video 2', desc='Check out more') }}                
            </div>
        </div>
    </section>
    <section id="contact">
        <div class="container">
            {% call section.header('Are you interested?', 'We are happy to answer your questions.') %}
                <div class="text-center">
                    <a href="{{url_for('site.index')}}#contact" class="btn btn-primary w-25" >Write Now!</a>
                </div>    
            {% endcall %}
        </div>
    </section>
{% endblock %}

{% block tail_js %}
    {{ super() }}
    
    <script>
        $(window).on('load', function() {
            var portfolioIsotope = $('.portfolio-container').isotope({
                itemSelector: '.portfolio-item',
                layoutMode: 'fitRows'
            });

            $('#portfolio-filters li').on('click', function() {
                $("#portfolio-filters li").removeClass('filter-active');
                $(this).addClass('filter-active');

                portfolioIsotope.isotope({
                    filter: $(this).data('filter')
                });
            });

            $(document).ready(function() {
                $('.venobox').venobox();
            });
        });
    </script>
{% endblock %}