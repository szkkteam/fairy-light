{% import 'website/static.html' as site_static with context %}

{% macro render(id, type, endpoint, cart='#', image=None, title=None, price=None) %}
    <div class="card photos-buy-card" data-id="{{id}}" data-type="{{type}}">
        <div class="photos-photo">
            <a href="{{endpoint}}">
                <img class="card-img-top photos-img-size" src="{{image if image else site_static.url(filename='site/img/category_default.jpg')}}">
            </a>
        </div>
        <div class="card-body text-center">
            {% if title %}
                <h4 class="photos-title">{{title}}</h4>
            {% endif %}
            <div class="photos-price price-drop {{ 'price-hidden' if price is none }}">
                <del>
                    {% if price is iterable %}
                        <span class="amount">€{{price[0]}}</span>
                    {% endif %}
                </del>
                <ins>
                    {% if price is iterable %}
                        <span class="amount pl-md-2">€{{price[1]}}</span>
                    {% else %}
                        {% if price == 0 %}
                            <span class="amount pl-md-2">Free</span>
                        {% else %}
                            <span class="amount pl-md-2">€{{price}}</span>
                        {% endif %}
                    {% endif %}
                </ins>
            </div>								
            <a href="{{ cart }}" class="btn btn-primary photos-add-btn">										
                Add to cart
            </a>
        </div>							
    </div>
{% endmacro %}