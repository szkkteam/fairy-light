if(facebookAppId){window.fbAsyncInit=function(){FB.init({appId:facebookAppId,autoLogAppEvents:true,xfbml:true,version:'v6.0'});};}
$('.share-facebook').click(function(e){e.preventDefault();FB.ui({method:'share',href:$(this).attr('href'),},function(response){});});$('#shopping-cart').shoppingCart({delegates:{cartModal:'#shopping-cart-modal',cartContent:'#shopping-cart-content',buyButton:'.cart-add',removeButton:'.cart-remove',},urls:{cartContent:cartContentUrl,},callbacks:{onCounterUpdated:function(cnt){var element=$(this).find('a');element.addClass('grow');setTimeout(function(){element.removeClass('grow');},200);this.show();},onCartUpdated:function(e){$('#shopping-cart-modal').modal('handleUpdate');},onAdd:function(e,resp){var _that=this;if(this.numOfItems!=resp.shopItems){const animationClass=e.attr('data-animation');if(animationClass){var item=e.parent().parent().parent();img=item.find('img');const offset=$(this).offset();cartTopOffset=offset.top-item.offset().top,cartLeftOffset=offset.left-item.offset().left;var flyingImg=$('<img class="'+animationClass+'">');flyingImg.attr('src',img.attr('src'));flyingImg.css('width','200').css('height','200');flyingImg.animate({top:cartTopOffset,left:cartLeftOffset,width:50,height:50,opacity:0.1},800,function(){flyingImg.remove();_that.updateNumOfItems(resp.shopItems);});item.append(flyingImg);return false;}else{return true;}}else{return true;}},}});$('.popup-parent').magnificPopup({delegate:'a.popup-item',type:'ajax',ajax:{settings:null,cursor:'mfp-ajax-cur',tError:'<a href="%url%">The content</a> could not be loaded.'},gallery:{enabled:true,preload:[1,1],navigateByImgClick:true,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',tPrev:'Previous (Left arrow key)',tNext:'Next (Right arrow key)',tCounter:'<span class="mfp-counter">%curr% of %total%</span>'},callbacks:{lazyLoad:function(item){},open:function(){var mfp=jQuery.magnificPopup.instance;if(mfp.index>=mfp.items.length-1){$(".mfp-container").addClass("mfp-last");}else{;$(".mfp-last").removeClass("mfp-last");}
if(mfp.index==0){$(".mfp-container").addClass("mfp-first");}else{;$(".mfp-first").removeClass("mfp-first");}},change:function(){var mfp=jQuery.magnificPopup.instance;if(mfp.index>=mfp.items.length-1){$(".mfp-container").addClass("mfp-last");}else{;$(".mfp-last").removeClass("mfp-last");}
if(mfp.index==0){$(".mfp-container").addClass("mfp-first");}else{;$(".mfp-first").removeClass("mfp-first");}},},});$('.album-detail').click(function(e){var targetId=$(this).attr('data-target');var url=$(this).attr('href')
$.ajax({type:'GET',url:url,dataType:'html',success:function(data){$(targetId+' .modal-content').html(data);},error:function(data){console.log(data.responseJSON);}});});