$('#shopping-cart').shoppingCart({delegates:{cartModal:'#shopping-cart-modal',cartContent:'#shopping-cart-content',},urls:{cartContent:cartContentUrl,},callbacks:{onCounterUpdated:function(cnt){if(cnt==0){this.hide();}else{this.show();}},}});$('#subscribe-form').on('submit',function(e){e.preventDefault();var responseDiv=$(this).find('#feedback');responseDiv.removeClass('valid-feedback').removeClass('invalid-feedback').hide();$.ajax({type:$(this).attr('method'),url:$(this).attr('action'),data:JSON.stringify({'email':$(this).find('input[type="email"]').val()}),contentType:'application/json;charset=UTF-8',success:function(data){responseDiv.addClass('valid-feedback').show();responseDiv.html('You are successfully subscribed to our mailing list!')},error:function(data){responseDiv.addClass('invalid-feedback').show();responseDiv.html(data.responseJSON.errors.email[0]);}});});$('form.ajax-form').on('submit',function(e){var from=$(this);var submitBtn=$(this).find('button[type=submit]');var formValues=$(this).serializeArray();var obj={};for(var a=0;a<formValues.length;a++){obj[formValues[a].name]=formValues[a].value;}
const jsonData=JSON.stringify(obj);var send=$.ajax({type:$(this).attr('method'),url:$(this).attr('action'),data:jsonData,dataType:'json',contentType:'application/json;charset=UTF-8',});submitBtn.prop('disabled',true);submitBtn.children('submit-btn-idle').css('display','none');submitBtn.children('submit-btn-processing').css('display','block');send.then(function(result){submitBtn.prop('disabled',false);submitBtn.children('submit-btn-idle').css('display','block');submitBtn.children('submit-btn-processing').css('display','none');if(result.error){Object.keys(result.error.message.errors).forEach(function(key){const error_msg=result.error.message.errors[key][0];form.find('input[name='+key+']').nextAll('.form-errors').text(error_msg);});}else{Object.keys(obj).forEach(function(key){form.find('input[name='+key+']').nextAll('.form-errors').text("");});form.find('.form-success').text(result.message);}});});$('#contact-form').on('submit',function(e){e.preventDefault();var formDiv=this;var responseDiv=$(this).find('.validation');responseDiv.removeClass('valid-feedback').removeClass('invalid-feedback').hide();var feedbackDiv=$(this).find('#feedback');feedbackDiv.removeClass('valid-feedback').removeClass('invalid-feedback').hide();var name=$(this).find('input[name="name"]').val();var email=$(this).find('input[name="email"]').val();var message=$(this).find('textarea[name="message"]').val();$.ajax({type:$(this).attr('method'),url:$(this).attr('action'),data:JSON.stringify({'name':name,'email':email,'message':message}),contentType:'application/json;charset=UTF-8',success:function(data){feedbackDiv.addClass('valid-feedback').show();feedbackDiv.html('Your question has been sent.')},error:function(data){console.log(data.responseJSON.errors);const errorKey=Object.keys(data.responseJSON.errors)[0];var errorDiv=$(formDiv).find('#'+errorKey);errorDiv.addClass('invalid-feedback').show();errorDiv.html(data.responseJSON.errors[errorKey]);}});});var isoContainer=$('.portfolio-container');$(window).on('load',function(){isoContainer.isotope({itemSelector:'.portfolio-item',layoutMode:'fitRows'});});$('#portfolio-filters li').on('click',function(){$("#portfolio-filters li").removeClass('filter-active');$(this).addClass('filter-active');isoContainer.isotope({filter:$(this).data('filter')});});$('.venobox').venobox();